{"version":3,"sources":["components/AuthenticatedRoute/AuthenticatedRoute.js","components/AutoDismissAlert/AutoDismissAlert.js","components/shared/CartHoverIcon.js","components/Header/Header.js","apiConfig.js","api/auth.js","components/styled/colors.js","components/styled/Buttons.js","components/auth/SignUp.js","components/AutoDismissAlert/messages.js","components/auth/SignIn.js","components/auth/SignOut.js","components/styled/Links.js","api/orders.js","components/orders/OrderHistory.js","components/auth/ChangePassword.js","components/auth/Account.js","components/shared/CountForm.js","components/orders/Order.js","components/styled/Panels.js","components/orders/Cart.js","api/stripe.js","components/products/Product.js","components/products/ProductList.js","api/products.js","components/products/ProductPage.js","App.js","index.js"],"names":["AuthenticatedRoute","user","Component","component","render","rest","props","to","AutoDismissAlert","handleClose","setState","show","state","timeoutId","this","setTimeout","clearTimeout","variant","heading","message","deleteAlert","id","Alert","dismissible","onClose","className","Heading","React","CartHoverIcon","iconSize","baseSize","useState","hover","setHover","style","width","onMouseOver","onMouseOut","Fade","timeout","in","size","authenticatedOptions","minHeight","unauthenticatedOptions","alwaysOptions","Header","Navbar","padding","bg","expand","Brand","Toggle","aria-controls","Collapse","Nav","email","apiUrls","apiUrl","window","location","hostname","signIn","credentials","axios","url","method","data","password","primary","secondary","accent","light","StyledButton","styled","Button","AddToCartButton","darken","SignUp","handleChange","event","target","name","value","onSignUp","preventDefault","msgAlert","history","setUser","password_confirmation","passwordConfirmation","then","res","push","catch","error","Form","onSubmit","Group","controlId","Label","Control","required","type","placeholder","onChange","withRouter","SignIn","onSignIn","SignOut","clearUser","headers","Authorization","token","signOut","finally","StyledLink","Link","lighten","checkoutOrder","orderId","OrderHistory","orders","setOrders","useEffect","indexOrders","err","length","map","order","products","totalPrice","_id","ChangePassword","oldPassword","newPassword","formData","setFormData","passwords","old","new","changePassword","TabLink","TabContainer","div","Tab","Container","defaultActiveKey","Row","Col","sm","borderRight","Item","eventKey","Content","Pane","CountFormStyled","CountInput","FormControl","SubmitCountBtn","button","CountForm","prodId","count","updateProductInCart","tempCount","setTempCount","StyledOrder","RemoveLink","Order","total","removeFromCart","ListGroup","i","productRef","title","price","parseFloat","toFixed","onClick","fontWeight","CenteredPanel","colors","ColoredPanel","CheckoutForm","CheckoutButton","CheckoutBackground","ViewContainer","completeOrder","clientSecret","setClientSecret","setTotal","stripe","useStripe","elements","useElements","paymentIntent","paymentError","handleCheckout","a","confirmCardPayment","payment_method","card","getElement","CardElement","payload","Spinner","animation","role","ProductCard","Card","Product","addToCart","Img","src","Title","marginTop","Text","ProductList","ProductListComponent","setProducts","product","StyledPage","PageSection","match","setProduct","params","Image","fluid","description","stripePromise","loadStripe","MainContainer","setUserState","msgAlerts","setMsgAlerts","setOrder","getCreateOrder","alerts","filter","msg","uuid","productId","addProductOrder","signInFirst","removeProductOrder","updateProductOrder","createOrder","path","exact","appJsx","basename","process","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.bbc18e2b.chunk.js","sourcesContent":["import React from 'react'\nimport { Route, Redirect } from 'react-router-dom'\n\n// props will include a `user` object or empty object\n// props will include a `component` as `Component` or a `render`\n// all other props that may be passed in are `..rest`\nconst AuthenticatedRoute = ({\n  user,\n  component: Component,\n  render,\n  ...rest\n}) => {\n  // if props include a `user` object and a `render` then create route with `render`\n  if (user && render) {\n    return <Route {...rest} render={render} />\n\n    // if props include a `user` object but no `render` then create route with `Component`\n    // if props do not include a `user` object then redirect to home\n  } else {\n    return (\n      <Route\n        {...rest}\n        render={(props) =>\n          user ? <Component {...props} /> : <Redirect to='/' />\n        }\n      />\n    )\n  }\n}\n\nexport default AuthenticatedRoute\n","import React from 'react'\nimport Alert from 'react-bootstrap/Alert'\n\nimport './AutoDismissAlert.scss'\n\nclass AutoDismissAlert extends React.Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      show: true\n    }\n    this.timeoutId = null\n  }\n\n  componentDidMount () {\n    this.timeoutId = setTimeout(this.handleClose, 5000)\n  }\n\n  componentWillUnmount () {\n    clearTimeout(this.timeoutId)\n  }\n\nhandleClose = () => this.setState({ show: false })\n\nrender () {\n  const { variant, heading, message, deleteAlert, id } = this.props\n\n  // Delete this alert after the fade animation time (300 ms by default)\n  if (!this.state.show) {\n    setTimeout(() => {\n      deleteAlert(id)\n    }, 300)\n  }\n\n  return (\n    <Alert\n      dismissible\n      show={this.state.show}\n      variant={variant}\n      onClose={this.handleClose}>\n      <div className='container'>\n        <Alert.Heading>{heading}</Alert.Heading>\n        <p className='alert-body'>{message}</p>\n      </div>\n    </Alert>\n  )\n}\n}\n\nexport default AutoDismissAlert\n","import React, { useState } from 'react'\nimport { Fade } from 'react-bootstrap'\nimport { Cart, CartFill } from 'react-bootstrap-icons'\n\nconst CartHoverIcon = () => {\n  const baseSize = 1.4\n  const iconSize = baseSize + 'em'\n  const containerSize = (baseSize + 0.1) + 'em'\n  const [hover, setHover] = useState(false)\n\n  return (\n    <div\n      style={{ width: containerSize }}\n      onMouseOver={() => setHover(true)}\n      onMouseOut={() => setHover(false)}\n    >\n      <Fade className=\"position-absolute\" timeout={800} in={!hover}>\n        <Cart size={iconSize}/>\n      </Fade>\n      <Fade className=\"position-absolute\" in={hover}>\n        <CartFill size={iconSize}/>\n      </Fade>\n    </div>\n  )\n}\n\nexport default CartHoverIcon\n","import React, { Fragment } from 'react'\nimport Nav from 'react-bootstrap/Nav'\nimport Navbar from 'react-bootstrap/Navbar'\nimport { Link, NavLink } from 'react-router-dom'\n\nimport CartHoverIcon from '../shared/CartHoverIcon'\n\nconst authenticatedOptions = (\n  <Fragment>\n    <NavLink\n      to='/cart'\n      className='nav-link cart-hover'\n      style={{\n        minHeight: '2.5em'\n      }}\n    ><CartHoverIcon/></NavLink>\n    <NavLink to='/account' className='nav-link'>Account</NavLink>\n  </Fragment>\n)\n\nconst unauthenticatedOptions = (\n  <Fragment>\n    <NavLink to='/sign-up' className='nav-link'>Sign Up</NavLink>\n    <NavLink to='/sign-in' className='nav-link'>Sign In</NavLink>\n  </Fragment>\n)\n\nconst alwaysOptions = (\n  <Fragment>\n  </Fragment>\n)\n\nconst Header = ({ user }) => (\n  <Navbar style={{ padding: '0.5em 1em' }} bg='primary' variant='dark' expand='md'>\n    <Navbar.Brand>\n      <Link to='/' className=\"brand\">Buy Things</Link>\n    </Navbar.Brand>\n    <Navbar.Toggle aria-controls='basic-navbar-nav' />\n    <Navbar.Collapse id='basic-navbar-nav'>\n      <Nav className='ms-auto w-100 justify-content-end'>\n        {user && (\n          <span className='navbar-text me-auto'>Welcome, {user.email}</span>\n        )}\n        {alwaysOptions}\n        {user ? authenticatedOptions : unauthenticatedOptions}\n      </Nav>\n    </Navbar.Collapse>\n  </Navbar>\n)\n\nexport default Header\n","let apiUrl\nconst apiUrls = {\n  production: 'https://buy-things-api.herokuapp.com',\n  development: 'http://localhost:4741'\n}\n\nif (window.location.hostname === 'localhost') {\n  apiUrl = apiUrls.development\n} else {\n  apiUrl = apiUrls.production\n}\n\nexport default apiUrl\n","import apiUrl from '../apiConfig'\nimport axios from 'axios'\n\nexport const signUp = (credentials) => {\n  return axios({\n    method: 'POST',\n    url: apiUrl + '/auth/sign-up/',\n    data: {\n      credentials: {\n        email: credentials.email,\n        password: credentials.password,\n        password_confirmation: credentials.passwordConfirmation\n      }\n    }\n  })\n}\n\nexport const signIn = (credentials) => {\n  return axios({\n    url: apiUrl + '/auth/sign-in/',\n    method: 'POST',\n    data: {\n      credentials: {\n        email: credentials.email,\n        password: credentials.password\n      }\n    }\n  })\n}\n\nexport const signOut = (user) => {\n  return axios({\n    url: apiUrl + '/auth/sign-out/',\n    method: 'DELETE',\n    headers: {\n      Authorization: `Bearer ${user.token}`\n    }\n  })\n}\n\nexport const changePassword = (passwords, user) => {\n  return axios({\n    url: apiUrl + '/auth/change-password/',\n    method: 'PATCH',\n    headers: {\n      Authorization: `Bearer ${user.token}`\n    },\n    data: {\n      passwords: {\n        old: passwords.oldPassword,\n        new: passwords.newPassword\n      }\n    }\n  })\n}\n","export const primary = '#1f3164'\nexport const secondary = '#FF6A3D'\nexport const accent = '#F4DB7D'\nexport const light = 'rgba(0, 0, 0, 0.125)'\n\nexport default {\n  primary,\n  secondary,\n  accent,\n  light\n}\n","import styled from 'styled-components'\nimport { darken } from 'polished'\nimport Button from 'react-bootstrap/Button'\n\nimport { primary, secondary, accent, light } from './colors'\n\nconst StyledButton = styled(Button)`\n  background: ${primary};\n  border: 1px solid ${light};\n  color: white;\n  margin-top: 1em;\n\n  &:hover, &:focus {\n    color: ${accent}};\n  }\n`\n\nexport const AddToCartButton = styled(Button)`\n  background: ${secondary};\n  border: 1px solid ${light};\n  color: white;\n  margin: 0 auto;\n  width: 60%;\n\n  &:hover, &:focus {\n    background: ${darken(0.2, secondary)};\n    color: white;\n  }\n`\n\n// Base styled button\nexport default StyledButton\n","import React, { Component } from 'react'\nimport { withRouter } from 'react-router-dom'\n\nimport { signUp, signIn } from '../../api/auth'\nimport { signUpSuccess, signUpFailure } from '../AutoDismissAlert/messages'\n\nimport Form from 'react-bootstrap/Form'\nimport Button from '../styled/Buttons'\n\nclass SignUp extends Component {\n  constructor (props) {\n    super(props)\n\n    this.state = {\n      email: '',\n      password: '',\n      passwordConfirmation: ''\n    }\n  }\n\nhandleChange = (event) =>\n  this.setState({\n    [event.target.name]: event.target.value\n  })\n\nonSignUp = (event) => {\n  event.preventDefault()\n\n  const { msgAlert, history, setUser } = this.props\n\n  signUp(this.state)\n    .then(() => signIn(this.state))\n    .then((res) => setUser(res.data.user))\n    .then(() =>\n      msgAlert({\n        heading: 'Sign Up Success',\n        message: signUpSuccess,\n        variant: 'success'\n      })\n    )\n    .then(() => history.push('/'))\n    .catch((error) => {\n      this.setState({ email: '', password: '', passwordConfirmation: '' })\n      msgAlert({\n        heading: 'Sign Up Failed with error: ' + error.message,\n        message: signUpFailure,\n        variant: 'danger'\n      })\n    })\n}\n\nrender () {\n  const { email, password, passwordConfirmation } = this.state\n\n  return (\n    <div className='row'>\n      <div className='col-sm-10 col-md-8 mx-auto mt-5'>\n        <h3>Sign Up</h3>\n        <Form onSubmit={this.onSignUp}>\n          <Form.Group controlId='email'>\n            <Form.Label>Email address</Form.Label>\n            <Form.Control\n              required\n              type='email'\n              name='email'\n              value={email}\n              placeholder='Enter email'\n              onChange={this.handleChange}\n            />\n          </Form.Group>\n          <Form.Group controlId='password'>\n            <Form.Label>Password</Form.Label>\n            <Form.Control\n              required\n              name='password'\n              value={password}\n              type='password'\n              placeholder='Password'\n              onChange={this.handleChange}\n            />\n          </Form.Group>\n          <Form.Group controlId='passwordConfirmation'>\n            <Form.Label>Password Confirmation</Form.Label>\n            <Form.Control\n              required\n              name='passwordConfirmation'\n              value={passwordConfirmation}\n              type='password'\n              placeholder='Confirm Password'\n              onChange={this.handleChange}\n            />\n          </Form.Group>\n          <Button variant='primary' type='submit'>Submit</Button>\n        </Form>\n      </div>\n    </div>\n  )\n}\n}\n\nexport default withRouter(SignUp)\n","export const signUpSuccess = 'Succesfully registered! You\\'ve been signed in as well.'\nexport const signUpFailure = 'Registration failed. Email may be taken, or passwords don\\'t match.'\nexport const signInSuccess = 'Welcome!'\nexport const signInFailure = 'Failed to sign in. Check your email and password and try again.'\nexport const signOutSuccess = 'Come back soon!'\nexport const changePasswordSuccess = 'Password changed successfully!'\nexport const changePasswordFailure = 'Failed to change passwords. Check your old password and try again.'\n","import React, { Component } from 'react'\nimport { withRouter } from 'react-router-dom'\n\nimport { signIn } from '../../api/auth'\nimport { signInSuccess, signInFailure } from '../AutoDismissAlert/messages'\n\nimport Form from 'react-bootstrap/Form'\nimport Button from '../styled/Buttons'\n\nclass SignIn extends Component {\n  constructor (props) {\n    super(props)\n\n    this.state = {\n      email: '',\n      password: ''\n    }\n  }\n\nhandleChange = (event) =>\n  this.setState({\n    [event.target.name]: event.target.value\n  })\n\nonSignIn = (event) => {\n  event.preventDefault()\n\n  const { msgAlert, history, setUser } = this.props\n\n  signIn(this.state)\n    .then((res) => setUser(res.data.user))\n    .then(() =>\n      msgAlert({\n        heading: 'Sign In Success',\n        message: signInSuccess,\n        variant: 'success'\n      })\n    )\n    .then(() => history.push('/'))\n    .catch((error) => {\n      this.setState({ email: '', password: '' })\n      msgAlert({\n        heading: 'Sign In Failed with error: ' + error.message,\n        message: signInFailure,\n        variant: 'danger'\n      })\n    })\n}\n\nrender () {\n  const { email, password } = this.state\n\n  return (\n    <div className='row'>\n      <div className='col-sm-10 col-md-8 mx-auto mt-5'>\n        <h3>Sign In</h3>\n        <Form onSubmit={this.onSignIn}>\n          <Form.Group controlId='email'>\n            <Form.Label>Email address</Form.Label>\n            <Form.Control\n              required\n              type='email'\n              name='email'\n              value={email}\n              placeholder='Enter email'\n              onChange={this.handleChange}\n            />\n          </Form.Group>\n          <Form.Group controlId='password'>\n            <Form.Label>Password</Form.Label>\n            <Form.Control\n              required\n              name='password'\n              value={password}\n              type='password'\n              placeholder='Password'\n              onChange={this.handleChange}\n            />\n          </Form.Group>\n          <Button variant='primary' type='submit'>Submit</Button>\n        </Form>\n      </div>\n    </div>\n  )\n}\n}\n\nexport default withRouter(SignIn)\n","import { Component } from 'react'\nimport { withRouter } from 'react-router-dom'\n\nimport { signOut } from '../../api/auth'\nimport { signOutSuccess } from '../AutoDismissAlert/messages'\n\nclass SignOut extends Component {\n  componentDidMount () {\n    const { msgAlert, history, clearUser, user } = this.props\n\n    signOut(user)\n      .finally(() =>\n        msgAlert({\n          heading: 'Signed Out Successfully',\n          message: signOutSuccess,\n          variant: 'success'\n        })\n      )\n      .finally(() => history.push('/'))\n      .finally(() => clearUser())\n  }\n\n  render () {\n    return ''\n  }\n}\n\nexport default withRouter(SignOut)\n","import styled from 'styled-components'\nimport { lighten } from 'polished'\nimport { Link } from 'react-router-dom'\nimport { primary } from './colors'\n\nconst StyledLink = styled(Link)`\n  color: ${primary};\n  &:hover, &:focus {\n    color: ${lighten(0.2, primary)};\n    font-weight: 600;\n  }\n`\n\nexport default StyledLink\n","import axios from 'axios'\nimport apiUrl from '../apiConfig'\n\nexport const indexOrders = (user, completed = false) => {\n  let url = apiUrl + '/orders'\n  if (completed) {\n    url += '?completed=true'\n  }\n  return axios({\n    url,\n    headers: {\n      Authorization: `Bearer ${user.token}`\n    }\n  })\n}\n\nexport const createOrder = (user) => {\n  return axios({\n    url: apiUrl + '/orders',\n    method: 'post',\n    data: { order: {} },\n    headers: {\n      Authorization: `Bearer ${user.token}`\n    }\n  })\n}\n\nexport const addProductOrder = (orderId, productId, count, user) => {\n  return axios({\n    url: `${apiUrl}/orders/${orderId}/products`,\n    method: 'post',\n    data: { productId, count },\n    headers: {\n      Authorization: `Bearer ${user.token}`\n    }\n  })\n}\n\nexport const updateProductOrder = (orderId, productId, count, user) => {\n  return axios({\n    url: `${apiUrl}/orders/${orderId}/products`,\n    method: 'patch',\n    data: { productId, count },\n    headers: {\n      Authorization: `Bearer ${user.token}`\n    }\n  })\n}\n\nexport const removeProductOrder = (orderId, productId, user) => {\n  return axios({\n    url: `${apiUrl}/orders/${orderId}/products`,\n    method: 'delete',\n    data: { productId },\n    headers: {\n      Authorization: `Bearer ${user.token}`\n    }\n  })\n}\n\nexport const checkoutOrder = (orderId, user) => {\n  return axios({\n    url: apiUrl + '/orders/' + orderId + '/checkout',\n    method: 'patch',\n    data: {},\n    headers: {\n      Authorization: `Bearer ${user.token}`\n    }\n  })\n}\n","import React, { useState, useEffect } from 'react'\n\nimport { indexOrders } from '../../api/orders'\n\nconst OrderHistory = ({ msgAlert, user }) => {\n  const [orders, setOrders] = useState(null)\n\n  useEffect(() => {\n    indexOrders(user, true)\n      .then(res => setOrders(res.data.orders))\n      .then(() => msgAlert({\n        heading: 'Order History Success',\n        message: 'All completed orders displayed',\n        variant: 'success'\n      }))\n      .catch(err => msgAlert({\n        heading: 'Order History Failure',\n        message: 'Something went wrong: ' + err.message,\n        variant: 'danger'\n      }))\n  }, [])\n\n  if (orders === null) {\n    return 'loading...'\n  } else if (orders.length === 0) {\n    return 'No orders to display - get shopping!'\n  }\n\n  return (\n    <ul>\n      {orders.map(order => (\n        <li key={order._id}>{order.products.length} items - ${order.totalPrice}</li>\n      ))}\n    </ul>\n  )\n}\n\nexport default OrderHistory\n","import React, { useState } from 'react'\n\nimport { changePassword } from '../../api/auth'\nimport { changePasswordSuccess, changePasswordFailure } from '../AutoDismissAlert/messages'\n\nimport Form from 'react-bootstrap/Form'\nimport Button from '../styled/Buttons'\n\nconst ChangePassword = ({ msgAlert, history, user }) => {\n  const [formData, setFormData] = useState({ oldPassword: '', newPassword: '' })\n\n  const handleChange = (event) =>\n    setFormData({\n      [event.target.name]: event.target.value\n    })\n\n  const onChangePassword = (event) => {\n    event.preventDefault()\n\n    changePassword(formData, user)\n      .then(() =>\n        msgAlert({\n          heading: 'Change Password Success',\n          message: changePasswordSuccess,\n          variant: 'success'\n        })\n      )\n      .then(() => history.push('/'))\n      .catch((error) => {\n        setFormData({ oldPassword: '', newPassword: '' })\n        msgAlert({\n          heading: 'Change Password Failed with error: ' + error.message,\n          message: changePasswordFailure,\n          variant: 'danger'\n        })\n      })\n  }\n\n  return (\n    <>\n      <h5>Change Password</h5>\n      <Form onSubmit={onChangePassword}>\n        <Form.Group controlId='oldPassword'>\n          <Form.Label>Old password</Form.Label>\n          <Form.Control\n            required\n            name='oldPassword'\n            value={formData.oldPassword}\n            type='password'\n            placeholder='Old Password'\n            onChange={handleChange}\n          />\n        </Form.Group>\n        <Form.Group controlId='newPassword'>\n          <Form.Label>New Password</Form.Label>\n          <Form.Control\n            required\n            name='newPassword'\n            value={formData.newPassword}\n            type='password'\n            placeholder='New Password'\n            onChange={handleChange}\n          />\n        </Form.Group>\n        <Button variant='primary' type='submit'>Submit</Button>\n      </Form>\n    </>\n  )\n}\n\nexport default ChangePassword\n","import React from 'react'\nimport styled from 'styled-components'\nimport { lighten } from 'polished'\nimport { withRouter } from 'react-router-dom'\n\nimport { primary, light } from '../styled/colors'\nimport Link from '../styled/Links'\n// import AuthenticatedRoute from '../AuthenticatedRoute/AuthenticatedRoute'\nimport OrderHistory from '../orders/OrderHistory'\n// import OrderDetail from '../orders/OrderDetails'\n\nimport Tab from 'react-bootstrap/Tab'\nimport Nav from 'react-bootstrap/Nav'\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\n\n// import LinkButton from '../shared/LinkButton'\nimport ChangePassword from './ChangePassword'\n\nconst TabLink = styled(Nav.Link)`\n  margin: 0.25em 0;\n\n  &:hover, &:focus {\n    background: ${lighten(0.7, primary)};\n    cursor: pointer;\n  }\n`\n\n// For some reason Tab.Container won't recognize my styles (it's a fluid container)\n// Using a wrapper component instead\nconst TabContainer = styled.div`\n  margin: 0 auto;\n\n  @media (min-width: 768px) {\n    width: 80%;\n  }\n`\n\n// Contains change password, sign out, order history, preferences...\nconst Account = (props) => {\n  return (\n    <TabContainer>\n      <Tab.Container className=\"border-soft\" defaultActiveKey=\"settings\">\n        <Row>\n          <Col className=\"mt-5\" sm={3} style={{ borderRight: `1px solid ${light}` }}>\n            <Nav variant=\"pills\" className=\"flex-column\">\n              <Nav.Item>\n                <TabLink eventKey=\"settings\">Account Setting</TabLink>\n              </Nav.Item>\n              <Nav.Item>\n                <TabLink\n                  eventKey=\"orderHistory\"\n                >Order History</TabLink>\n              </Nav.Item>\n              <Nav.Item className=\"text-center mt-2\">\n                <Link to='/sign-out'>Sign Out</Link>\n              </Nav.Item>\n            </Nav>\n          </Col>\n          <Col className=\"mt-5\" sm={9}>\n            <Tab.Content>\n              <Tab.Pane eventKey=\"settings\">\n                <>\n                  <h4>Update your data:</h4>\n                  <hr/>\n                  <ChangePassword/>\n                </>\n              </Tab.Pane>\n              <Tab.Pane eventKey=\"orderHistory\">\n                <>\n                  <h4>Order history:</h4>\n                  {/* <AuthenticatedRoute\n                    path={props.match.path + '/orders/:id'}\n                    exact\n                    render={() => <OrderDetail {...props}/>}\n                  /> */}\n                  <OrderHistory {...props}/>\n                </>\n              </Tab.Pane>\n            </Tab.Content>\n          </Col>\n        </Row>\n      </Tab.Container>\n    </TabContainer>\n  )\n}\n\nexport default withRouter(Account)\n","import React, { useState, useEffect } from 'react'\n\nimport styled from 'styled-components'\n\nimport Form from 'react-bootstrap/Form'\nimport FormControl from 'react-bootstrap/FormControl'\n\nconst CountFormStyled = styled(Form)`\n  display: flex;\n  max-width: 80%;\n`\n\nconst CountInput = styled(FormControl)`\n  max-width: 6em;\n  display: inline;\n`\n\nconst SubmitCountBtn = styled.button`\n  border: 0;\n  background: transparent;\n  text-decoration: underline;\n\n  &:hover, &:focus {\n    font-weight: 800;\n  }\n`\n\nconst CountForm = ({ prodId, count, updateProductInCart }) => {\n  const [tempCount, setTempCount] = useState(0)\n\n  useEffect(() => {\n    if (tempCount) {\n      setTempCount(0)\n    }\n  }, [count])\n\n  return (\n    <CountFormStyled\n      onSubmit={event => {\n        event.preventDefault()\n        updateProductInCart(prodId, tempCount)\n      }}\n    >\n      <CountInput\n        onChange={event => setTempCount(event.target.value)}\n        type=\"number\"\n        size=\"sm\"\n        value={tempCount || count}\n      />\n      <SubmitCountBtn type=\"submit\">Update</SubmitCountBtn>\n    </CountFormStyled>\n  )\n}\n\nexport default CountForm\n","import React from 'react'\nimport styled from 'styled-components'\n\nimport ListGroup from 'react-bootstrap/ListGroup'\nimport Link from '../styled/Links'\n\nimport CountForm from '../shared/CountForm'\n\nconst StyledOrder = styled.div`\n  width: 100%;\n\n  @media (min-width: 768px) {\n    min-width: 40%;\n  }\n`\n\nconst RemoveLink = styled(Link)`\n  display: block;\n  font-size: 0.75em;\n  margin-top: 0.5em;\n`\n\nconst Order = ({ total, products, removeFromCart, updateProductInCart }) => {\n  return (\n    <StyledOrder className=\"p-2\">\n      <h2>Current Cart:</h2>\n      <ListGroup>\n        {products.map(({ productRef, count }, i) => (\n          <ListGroup.Item\n            key={i}\n            variant='info'\n          >\n            <span>{productRef.title} - ${productRef.price} each</span>\n            <CountForm\n              prodId={productRef._id}\n              count={count}\n              updateProductInCart={updateProductInCart}\n            />\n            <span className=\"order-price\">${(parseFloat(productRef.price) * count).toFixed(2)}</span>\n            <RemoveLink onClick={() => removeFromCart(productRef._id)}>Remove from cart</RemoveLink>\n          </ListGroup.Item>\n        ))}\n        <ListGroup.Item className=\"order-price\" style={{ fontWeight: 'bold' }} variant='warning'>Total: ${total}</ListGroup.Item>\n      </ListGroup>\n    </StyledOrder>\n  )\n}\n\nexport default Order\n","import styled from 'styled-components'\n\nimport colors from './colors'\n\nexport const CenteredPanel = styled.div`\n  align-items: center;\n  border: 1px solid ${colors.light};\n  border-radius: 0.25em;\n  display: flex;\n  height: 100%;\n  justify-content: center;\n`\n\nexport const ColoredPanel = styled(CenteredPanel)`\n  background-color: ${(props) => colors[props.variant]}\n`\n","import React, { useState, useEffect } from 'react'\nimport styled from 'styled-components'\nimport { withRouter } from 'react-router-dom'\nimport { CardElement, useStripe, useElements } from '@stripe/react-stripe-js'\n\nimport Spinner from 'react-bootstrap/Spinner'\n\nimport Order from './Order'\nimport Button from '../styled/Buttons'\nimport { ColoredPanel } from '../styled/Panels'\nimport { paymentIntent } from '../../api/stripe'\nimport { checkoutOrder } from '../../api/orders'\n\nimport Form from 'react-bootstrap/Form'\n\nconst CheckoutForm = styled(Form)`\n  min-height: 100%;\n  position: relative;\n  width: 100%;\n`\n\nconst CheckoutButton = styled(Button)`\n  bottom: 0px;\n  position: absolute;\n  width: 100%;\n`\n\nconst CheckoutBackground = styled(ColoredPanel)`\n  height: 10em;\n  width: 100%;\n\n  @media (max-width: 768px) {\n    min-width: 40%;\n  }\n`\n\nconst ViewContainer = styled.div`\n  align-items: flex-end;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: center;\n\n  @media (min-width: 768px) {\n    flex-wrap: nowrap;\n  }\n`\n\nconst Cart = ({\n  order,\n  user,\n  msgAlert,\n  completeOrder,\n  history,\n  removeFromCart,\n  updateProductInCart\n}) => {\n  const [clientSecret, setClientSecret] = useState(null)\n  const [total, setTotal] = useState(0)\n  const stripe = useStripe()\n  const elements = useElements()\n\n  useEffect(() => {\n    if (order.products.length > 0) {\n      paymentIntent(order._id, user)\n        .then(res => {\n          setClientSecret(res.data.clientSecret)\n          setTotal(res.data.totalPrice)\n        })\n        .catch(err => msgAlert({\n          heading: 'Payment intent failed',\n          message: 'Something went wrong: ' + err.message,\n          variant: 'danger'\n        }))\n    }\n  }, [order])\n\n  const paymentError = (error) => {\n    msgAlert({\n      heading: 'Payment Error',\n      message: 'Something went wrong: ' + error.message,\n      variant: 'danger'\n    })\n  }\n\n  const handleCheckout = async (event) => {\n    event.preventDefault()\n\n    if (!stripe || !elements) {\n      msgAlert({\n        heading: 'Stripe not loaded',\n        message: 'Try again in a few seconds',\n        variant: 'info'\n      })\n    }\n\n    const payload = await stripe.confirmCardPayment(clientSecret, {\n      payment_method: {\n        card: elements.getElement(CardElement)\n      }\n    })\n\n    if (payload.error) {\n      paymentError(payload.error)\n    } else {\n      checkoutOrder(order._id, user)\n        .then(res => {\n          completeOrder()\n          history.push('/')\n          msgAlert({\n            heading: 'Payment success',\n            message: 'Thanks for the money ;) Buy more things now',\n            variant: 'success'\n          })\n        })\n        .catch(paymentError)\n    }\n  }\n\n  return (\n    <>\n      <ViewContainer>\n        {order && (\n          <>\n            {order.products.length > 0\n              ? (\n                <>\n                  <Order\n                    products={order.products}\n                    total={total}\n                    removeFromCart={removeFromCart}\n                    updateProductInCart={updateProductInCart}\n                  />\n                  <CheckoutBackground variant=\"accent\" className=\"m-2 p-3\">\n                    {clientSecret\n                      ? (<CheckoutForm onSubmit={handleCheckout}>\n                        <CardElement />\n                        <CheckoutButton type=\"submit\">Checkout</CheckoutButton>\n                      </CheckoutForm>)\n                      : (<Spinner animation=\"border\" role=\"status\">\n                        <span className=\"visually-hidden\">Loading...</span>\n                      </Spinner>)\n                    }\n                  </CheckoutBackground>\n                </>\n              )\n              : 'No items in cart - get to shopping!'\n            }\n          </>\n        )}\n      </ViewContainer>\n    </>\n  )\n}\n\nexport default withRouter(Cart)\n","import axios from 'axios'\nimport apiUrl from '../apiConfig'\n\nexport const paymentIntent = (orderId, user) => {\n  return axios({\n    url: apiUrl + '/stripe/payment-intent/' + orderId,\n    method: 'post',\n    headers: {\n      Authorization: `Bearer ${user.token}`\n    }\n  })\n}\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport styled from 'styled-components'\n\nimport { AddToCartButton } from '../styled/Buttons'\nimport Card from 'react-bootstrap/Card'\n\nconst ProductCard = styled(Card)`\n  display: inline-flex;\n  margin-top: 1em;\n  padding: 1em 0.5em;\n  text-align: center;\n\n  width: 24%;\n\n  &:nth-child(1) {\n    margin-left: 0;\n  }\n\n  &:nth-child(4n) {\n    margin-right: 0;\n  }\n\n  @media (max-width: 768px) {\n    width: 49%;\n  }\n`\n\nconst Product = ({ id, title, price, addToCart }) => {\n  return (\n    <ProductCard>\n      <Link to={`/details/${id}`}>\n        <Card.Img\n          variant=\"top\"\n          src=\"https://res.cloudinary.com/esalling/image/upload/v1518704988/few_dots.jpg\"\n        />\n        <Card.Title style={{ marginTop: '0.5em' }}>{title}</Card.Title>\n      </Link>\n      <Card.Text>${price}</Card.Text>\n      <AddToCartButton onClick={() => addToCart(id, 1)}>Add to cart</AddToCartButton>\n    </ProductCard>\n  )\n}\n\nexport default Product\n","import React, { useState, useEffect } from 'react'\nimport styled from 'styled-components'\n\nimport Product from './Product'\nimport { indexProducts } from '../../api/products'\n\nconst ProductList = styled.div`\n  align-items: center;\n  display: flex;\n  flex-flow: row wrap;\n  justify-content: space-between;\n  margin: 2rem auto;\n  width: 80%;\n\n  &:after {\n    content: \"\";\n    flex-basis: 24%;\n    flex-grow: 0;\n  }\n\n  @media (max-width: 768px) {\n    &:after {\n      flex-basis: 49%;\n    }\n  }\n`\n\nconst ProductListComponent = ({ addToCart, msgAlert }) => {\n  const [products, setProducts] = useState(null)\n\n  useEffect(() => {\n    indexProducts()\n      .then(res => setProducts(res.data.products))\n      .then(() => msgAlert({\n        heading: 'Index Products Success',\n        message: 'Check em out',\n        variant: 'success'\n      }))\n      .catch(err => msgAlert({\n        heading: 'Index Products Failure',\n        message: 'Something went wrong: ' + err.message,\n        variant: 'danger'\n      }))\n  }, [])\n\n  return (\n    <ProductList>\n      {products\n        ? products.map(product =>\n          <Product\n            key={product._id}\n            id={product._id}\n            title={product.title}\n            price={product.price}\n            addToCart={addToCart}\n          />\n        )\n        : 'Loading...'}\n    </ProductList>\n  )\n}\n\nexport default ProductListComponent\n","import axios from 'axios'\nimport apiUrl from '../apiConfig'\n\nexport const indexProducts = () => {\n  return axios({\n    url: apiUrl + '/products'\n  })\n}\n\nexport const showProduct = (id) => {\n  return axios({\n    url: apiUrl + '/products/' + id\n  })\n}\n","import React, { useEffect, useState } from 'react'\nimport styled from 'styled-components'\nimport { withRouter } from 'react-router-dom'\n\nimport { AddToCartButton } from '../styled/Buttons'\nimport { showProduct } from '../../api/products'\n\nimport Image from 'react-bootstrap/Image'\n\nconst StyledPage = styled.div`\n  display: flex;\n  flex-wrap: wrap-reverse;\n  flex-direction: row;\n  flex-grow: 0;\n  justify-content: center;\n  margin: 2em;\n\n  @media (min-width: 768px) {\n    flex-wrap: nowrap;\n  }\n`\n\nconst PageSection = styled.div`\n  flex: auto;\n  margin: 1rem;\n  width: 100%;\n\n  @media (min-width: 768px) {\n    width: 40%;\n  }\n`\n\nconst ProductPage = ({ match, msgAlert, addToCart }) => {\n  const [product, setProduct] = useState(null)\n\n  useEffect(() => {\n    showProduct(match.params.id)\n      .then(res => setProduct(res.data.product))\n      .then(() => msgAlert({\n        heading: 'Show Product Success!',\n        message: 'Check out the product details on this page.',\n        variant: 'success'\n      }))\n      .catch(err => msgAlert({\n        heading: 'Show Product Failed',\n        message: 'Something went wrong: ' + err.message,\n        variant: 'danger'\n      }))\n  }, [])\n\n  if (product === null) {\n    return 'Loading...'\n  }\n\n  return (\n    <StyledPage>\n      <PageSection>\n        <Image\n          fluid\n          className=\"w-100\"\n          src=\"https://res.cloudinary.com/esalling/image/upload/v1518704988/few_dots.jpg\"\n        />\n        <p className=\"py-4\">{product.description}</p>\n      </PageSection>\n      <PageSection>\n        <h3 className=\"text-display\">{product.title}</h3>\n        <h4>Price: ${product.price}</h4>\n        <AddToCartButton onClick={() => addToCart(match.params.id)}>Add to cart</AddToCartButton>\n      </PageSection>\n    </StyledPage>\n  )\n}\n\nexport default withRouter(ProductPage)\n","import React, { useState, useEffect, Fragment } from 'react'\nimport styled from 'styled-components'\nimport { Elements } from '@stripe/react-stripe-js'\nimport { loadStripe } from '@stripe/stripe-js'\nimport { withRouter, Route } from 'react-router-dom'\nimport { v4 as uuid } from 'uuid'\n\nimport AuthenticatedRoute from './components/AuthenticatedRoute/AuthenticatedRoute'\nimport AutoDismissAlert from './components/AutoDismissAlert/AutoDismissAlert'\nimport Header from './components/Header/Header'\nimport SignUp from './components/auth/SignUp'\nimport SignIn from './components/auth/SignIn'\nimport SignOut from './components/auth/SignOut'\nimport Account from './components/auth/Account'\nimport Cart from './components/orders/Cart'\nimport ProductListComponent from './components/products/ProductList'\nimport ProductPage from './components/products/ProductPage'\n\nimport Container from 'react-bootstrap/Container'\n\nimport { createOrder, addProductOrder, removeProductOrder, updateProductOrder } from './api/orders'\n\nconst stripePromise = loadStripe('pk_test_51HtHLTIILRHGeAn02ibfcqyDtGe4EAD0Qubsd3jPzOrIg5fnYSwaMDNDHaDsUx3XQZUgbq67UhLraMjpOQIWXfex0064HXxmqF')\n\nconst MainContainer = styled(Container)`\n  margin-top: 2rem;\n`\n\nconst App = ({ history }) => {\n  const [user, setUserState] = useState(null)\n  const [msgAlerts, setMsgAlerts] = useState([])\n  const [order, setOrder] = useState(null)\n\n  useEffect(() => {\n    if (user) {\n      // user sign in, get current order\n      getCreateOrder()\n    }\n  }, [user])\n\n  const setUser = (user) => setUserState(user)\n\n  const clearUser = () => setUserState(null)\n\n  const deleteAlert = (id) => {\n    setMsgAlerts(alerts => alerts.filter((msg) => msg.id !== id))\n  }\n\n  const msgAlert = ({ heading, message, variant }) => {\n    const id = uuid()\n    setMsgAlerts(alerts => [...alerts, { heading, message, variant, id }])\n  }\n\n  const addToCart = (prodId, count) => {\n    // if no order or user, send user to sign in\n    if (!order || !user) {\n      history.push('/sign-in')\n      msgAlert({\n        heading: 'Please sign in',\n        message: 'Login or create an account to start shopping',\n        variant: 'info'\n      })\n      return\n    }\n\n    addProductOrder(order._id, prodId, count, user)\n      .then(res => setOrder(res.data.order))\n      .then(() => msgAlert({\n        heading: 'Added product to the cart',\n        message: 'Check out your cart to see the product',\n        variant: 'success'\n      }))\n      .catch(err => msgAlert({\n        heading: 'Could not add product to the cart',\n        message: 'Something went wrong: ' + err.message,\n        variant: 'danger'\n      }))\n  }\n\n  const removeFromCart = (prodId) => {\n    if (signInFirst()) return\n\n    removeProductOrder(order._id, prodId, user)\n      .then(res => setOrder(res.data.order))\n      .then(() => msgAlert({\n        heading: 'Product successfully removed from cart',\n        message: 'Better replace it with something else ;)',\n        variant: 'success'\n      }))\n      .catch(err => msgAlert({\n        heading: 'Product not removed from cart',\n        message: 'Something went wrong: ' + err.message,\n        variant: 'danger'\n      }))\n  }\n\n  const updateProductInCart = (prodId, data) => {\n    if (signInFirst()) return\n\n    updateProductOrder(order._id, prodId, data, user)\n      .then(res => setOrder(res.data.order))\n      .then(() => msgAlert({\n        heading: 'Product count successfully updated',\n        message: 'Hope you got more!',\n        variant: 'success'\n      }))\n      .catch(err => msgAlert({\n        heading: 'Product count not updated',\n        message: 'Something went wrong: ' + err.message,\n        variant: 'danger'\n      }))\n  }\n\n  const signInFirst = () => {\n    if (!order) {\n      history.push('/sign-in')\n      msgAlert({\n        heading: 'Please sign in',\n        message: 'Login or create an account first',\n        variant: 'info'\n      })\n      return true\n    }\n\n    return false\n  }\n\n  const getCreateOrder = () => {\n    createOrder(user)\n      .then(res => setOrder(res.data.order))\n      .catch(err => msgAlert({\n        heading: 'Error loading cart.',\n        message: 'Something went wrong: ' + err.message,\n        variant: 'danger'\n      }))\n  }\n\n  return (\n    <Fragment>\n      <Header user={user} />\n      {msgAlerts.map((msgAlert) => (\n        <AutoDismissAlert\n          key={msgAlert.id}\n          heading={msgAlert.heading}\n          variant={msgAlert.variant}\n          message={msgAlert.message}\n          id={msgAlert.id}\n          deleteAlert={deleteAlert}\n        />\n      ))}\n      <MainContainer fluid>\n        <Route\n          path='/sign-up'\n          render={() => (\n            <SignUp msgAlert={msgAlert} setUser={setUser} />\n          )}\n        />\n        <Route\n          path='/sign-in'\n          render={() => (\n            <SignIn msgAlert={msgAlert} setUser={setUser} />\n          )}\n        />\n        <AuthenticatedRoute\n          user={user}\n          path='/sign-out'\n          render={() => (\n            <SignOut\n              msgAlert={msgAlert}\n              clearUser={clearUser}\n              user={user}\n            />\n          )}\n        />\n        <AuthenticatedRoute\n          user={user}\n          path='/account'\n          render={() => (\n            <Account msgAlert={msgAlert} user={user} />\n          )}\n        />\n        <AuthenticatedRoute\n          user={user}\n          path='/cart'\n          render={() => (\n            <Elements stripe={stripePromise}>\n              <Cart\n                msgAlert={msgAlert}\n                user={user}\n                order={order}\n                completeOrder={getCreateOrder}\n                removeFromCart={removeFromCart}\n                updateProductInCart={updateProductInCart}\n              />\n            </Elements>\n          )}\n        />\n        <Route\n          path='/'\n          exact\n          render={() => (\n            <ProductListComponent\n              msgAlert={msgAlert}\n              user={user}\n              addToCart={addToCart}\n              order={order}\n            />\n          )}\n        />\n        <Route\n          path='/details/:id'\n          exact\n          render={() => (\n            <ProductPage\n              msgAlert={msgAlert}\n              user={user}\n              addToCart={addToCart}\n              order={order}\n            />\n          )}\n        />\n      </MainContainer>\n    </Fragment>\n  )\n}\n\nexport default withRouter(App)\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.scss'\n\nimport App from './App'\nimport { BrowserRouter } from 'react-router-dom'\n\nconst appJsx = (\n  <BrowserRouter basename={process.env.PUBLIC_URL}>\n    <App />\n  </BrowserRouter>\n)\n\nReactDOM.render(appJsx, document.getElementById('root'))\n"],"sourceRoot":""}